<!DOCTYPE html>
<html>
<head>
    <title>Showing Movie Data from an API</title>
    <link rel="stylesheet" href="./css/style.css" />
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script type="module" src="./js/scripts.js"></script>
</head>
<body>
    <h1>Movie Data</h1>
    <div x-data="{
        movies: [],
        error: null,
        loading: false,
        async loadMovieData() {
            this.movies = await  response.loadMovieData
        }
    }">
        <button @click="loadMovieData()">Load Movies</button>

        <template x-if="loading">
            <p>Loading...</p>
        </template>

        <template x-if="error">
            <p x-text="error" style="color:rgb(60, 0, 255);"></p>
        </template>

        <ul>
            <template x-for="movie in movies" :key="movie.id">
                <li>
                    <strong x-text="movie.title"></strong> 
                    (<span x-text="movie.release_date"></span>)
                </li>
            </template>
        </ul>
    </div>
</body>
</html>